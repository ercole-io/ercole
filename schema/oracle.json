{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "oracleFeature",
    "type": "object",
    "properties": {
        "database": {
            "anyOf": [
                {
                    "type": "null"
                },
                {
                    "type": "object",
                    "required": [
                        "databases",
                        "unlistedRunningDatabases"
                    ],
                    "properties": {
                        "databases": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "required": [
                                    "instanceNumber",
                                    "instanceName",
                                    "name",
                                    "uniqueName",
                                    "status",
                                    "dbID",
                                    "role",
                                    "isCDB",
                                    "version",
                                    "platform",
                                    "archivelog",
                                    "charset",
                                    "nCharset",
                                    "blockSize",
                                    "cpuCount",
                                    "sgaTarget",
                                    "pgaTarget",
                                    "memoryTarget",
                                    "sgaMaxSize",
                                    "segmentsSize",
                                    "datafileSize",
                                    "allocable",
                                    "elapsed",
                                    "dbTime",
                                    "dailyCPUUsage",
                                    "work",
                                    "asm",
                                    "dataguard",
                                    "patches",
                                    "tablespaces",
                                    "schemas",
                                    "licenses",
                                    "addms",
                                    "psus",
                                    "backups",
                                    "featureUsageStats",
                                    "pdbs",
                                    "services"
                                ],
                                "properties": {
                                    "instanceNumber": {
                                        "type": "integer",
                                        "minimum": 1
                                    },
                                    "instanceName": {
                                        "type": "string",
                                        "minLength": 1,
                                        "maxLength": 64
                                    },
                                    "name": {
                                        "type": "string",
                                        "minLength": 1,
                                        "maxLength": 64
                                    },
                                    "uniqueName": {
                                        "type": "string",
                                        "minLength": 1,
                                        "maxLength": 64
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "OPEN",
                                            "READ WRITE",
                                            "READ ONLY",
                                            "MOUNTED",
                                            "READ ONLY WITH APPLY"
                                        ]
                                    },
                                    "dbID": {
                                        "type": "integer",
                                        "minimum": 1
                                    },
                                    "role": {
                                        "type": "string",
                                        "enum": [
                                            "PRIMARY",
                                            "LOGICAL STANDBY",
                                            "PHYSICAL STANDBY",
                                            "SNAPSHOT STANDBY"
                                        ]
                                    },
                                    "isCDB": {
                                        "type": "boolean"
                                    },
                                    "version": {
                                        "type": "string",
                                        "minLength": 8,
                                        "maxLength": 64
                                    },
                                    "platform": {
                                        "type": "string",
                                        "minLength": 1,
                                        "maxLength": 64
                                    },
                                    "archivelog": {
                                        "type": "boolean"
                                    },
                                    "charset": {
                                        "type": "string",
                                        "minLength": 1,
                                        "maxLength": 32
                                    },
                                    "nCharset": {
                                        "type": "string",
                                        "minLength": 1,
                                        "maxLength": 32
                                    },
                                    "blockSize": {
                                        "type": "integer",
                                        "minimum": 1
                                    },
                                    "cpuCount": {
                                        "type": "integer",
                                        "minimum": 1
                                    },
                                    "sgaTarget": {
                                        "type": "number"
                                    },
                                    "pgaTarget": {
                                        "type": "number"
                                    },
                                    "memoryTarget": {
                                        "type": "number"
                                    },
                                    "sgaMaxSize": {
                                        "type": "number"
                                    },
                                    "segmentsSize": {
                                        "type": "number"
                                    },
                                    "datafileSize": {
                                        "type": "number"
                                    },
                                    "allocable": {
                                        "type": "number"
                                    },
                                    "elapsed": {
                                        "anyOf": [
                                            {
                                                "type": "null"
                                            },
                                            {
                                                "type": "number"
                                            }
                                        ]
                                    },
                                    "dbTime": {
                                        "anyOf": [
                                            {
                                                "type": "null"
                                            },
                                            {
                                                "type": "number"
                                            }
                                        ]
                                    },
                                    "dailyCPUUsage": {
                                        "anyOf": [
                                            {
                                                "type": "null"
                                            },
                                            {
                                                "type": "number"
                                            }
                                        ]
                                    },
                                    "work": {
                                        "anyOf": [
                                            {
                                                "type": "null"
                                            },
                                            {
                                                "type": "number"
                                            }
                                        ]
                                    },
                                    "asm": {
                                        "type": "boolean"
                                    },
                                    "dataguard": {
                                        "type": "boolean"
                                    },
                                    "isRAC": {
                                        "type": "boolean"
                                    },
                                    "patches": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "required": [
                                                "version",
                                                "patchID",
                                                "action",
                                                "description",
                                                "date"
                                            ],
                                            "properties": {
                                                "version": {
                                                    "type": "string"
                                                },
                                                "patchID": {
                                                    "type": "integer"
                                                },
                                                "action": {
                                                    "type": "string"
                                                },
                                                "description": {
                                                    "type": "string"
                                                },
                                                "date": {
                                                    "type": "string",
                                                    "format": "date"
                                                }
                                            }
                                        }
                                    },
                                    "tablespaces": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "required": [
                                                "name",
                                                "maxSize",
                                                "total",
                                                "used",
                                                "usedPerc",
                                                "status"
                                            ],
                                            "properties": {
                                                "name": {
                                                    "type": "string"
                                                },
                                                "maxSize": {
                                                    "type": "number",
                                                    "minimum": 0
                                                },
                                                "total": {
                                                    "type": "number",
                                                    "minimum": 0
                                                },
                                                "used": {
                                                    "type": "number",
                                                    "minimum": 0
                                                },
                                                "usedPerc": {
                                                    "type": "number",
                                                    "minimum": 0
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "enum": [
                                                        "ONLINE",
                                                        "READ ONLY",
                                                        "OFFLINE"
                                                    ]
                                                }
                                            }
                                        }
                                    },
                                    "schemas": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "required": [
                                                "indexes",
                                                "lob",
                                                "tables",
                                                "total",
                                                "user"
                                            ],
                                            "properties": {
                                                "indexes": {
                                                    "type": "integer",
                                                    "minimum": 0
                                                },
                                                "lob": {
                                                    "type": "integer",
                                                    "minimum": 0
                                                },
                                                "tables": {
                                                    "type": "integer",
                                                    "minimum": 0
                                                },
                                                "total": {
                                                    "type": "integer",
                                                    "minimum": 0
                                                },
                                                "user": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    },
                                    "licenses": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "required": [
                                                "name",
                                                "count"
                                            ],
                                            "properties": {
                                                "name": {
                                                    "type": "string",
                                                    "minLength": 1,
                                                    "maxLength": 64
                                                },
                                                "count": {
                                                    "type": "number",
                                                    "minimum": 0
                                                }
                                            }
                                        }
                                    },
                                    "addms": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "required": [
                                                "finding",
                                                "recommendation",
                                                "action",
                                                "benefit"
                                            ],
                                            "properties": {
                                                "finding": {
                                                    "type": "string"
                                                },
                                                "recommendation": {
                                                    "type": "string"
                                                },
                                                "action": {
                                                    "type": "string"
                                                },
                                                "benefit": {
                                                    "type": "number",
                                                    "minimum": 0,
                                                    "maximum": 100
                                                }
                                            }
                                        }
                                    },
                                    "segmentAdvisors": {
                                        "anyOf": [
                                            {
                                                "type": "null"
                                            },
                                            {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "properties": {
                                                        "segmentOwner": {
                                                            "type": "string"
                                                        },
                                                        "segmentName": {
                                                            "type": "string"
                                                        },
                                                        "segmentType": {
                                                            "type": "string"
                                                        },
                                                        "partitionName": {
                                                            "type": "string"
                                                        },
                                                        "reclaimable": {
                                                            "type": "number",
                                                            "minimum": 0
                                                        },
                                                        "recommendation": {
                                                            "type": "string"
                                                        }
                                                    }
                                                }
                                            }
                                        ]
                                    },
                                    "psus": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "required": [
                                                "date",
                                                "description"
                                            ],
                                            "properties": {
                                                "date": {
                                                    "type": "string",
                                                    "format": "date"
                                                },
                                                "description": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    },
                                    "backups": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "required": [
                                                "backupType",
                                                "hour",
                                                "weekDays",
                                                "avgBckSize",
                                                "retention"
                                            ],
                                            "properties": {
                                                "backupType": {
                                                    "type": "string",
                                                    "enum": [
                                                        "Archivelog",
                                                        "Full",
                                                        "Level0",
                                                        "Level1",
                                                        "Incr Lvl 0",
                                                        "Incr Lvl 1",
                                                        "Db Full",
                                                        "Datafile Full",
                                                        "Recvr Area",
                                                        "Datafile Incr"
                                                    ]
                                                },
                                                "hour": {
                                                    "type": "string",
                                                    "minLength": 5,
                                                    "maxLength": 5,
                                                    "pattern": "^[0-9]{2}:[0-9]{2}$"
                                                },
                                                "weekDays": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "enum": [
                                                            "Monday",
                                                            "Tuesday",
                                                            "Wednesday",
                                                            "Thursday",
                                                            "Friday",
                                                            "Saturday",
                                                            "Sunday"
                                                        ]
                                                    },
                                                    "uniqueItems": true
                                                },
                                                "avgBckSize": {
                                                    "type": "number",
                                                    "minimum": 0
                                                },
                                                "retention": {
                                                    "type": "string",
                                                    "minLength": 1,
                                                    "maxLength": 16
                                                }
                                            }
                                        }
                                    },
                                    "featureUsageStats": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "required": [
                                                "product",
                                                "feature",
                                                "detectedUsages",
                                                "currentlyUsed",
                                                "firstUsageDate",
                                                "lastUsageDate",
                                                "extraFeatureInfo"
                                            ],
                                            "properties": {
                                                "product": {
                                                    "type": "string",
                                                    "minLength": 1,
                                                    "maxLength": 128
                                                },
                                                "feature": {
                                                    "type": "string",
                                                    "minLength": 1,
                                                    "maxLength": 128
                                                },
                                                "detectedUsages": {
                                                    "type": "integer",
                                                    "minimum": 0
                                                },
                                                "currentlyUsed": {
                                                    "type": "boolean"
                                                },
                                                "firstUsageDate": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "lastUsageDate": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "extraFeatureInfo": {
                                                    "type": "string",
                                                    "maxLength": 128
                                                }
                                            }
                                        }
                                    },
                                    "services": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "required": [
                                                "name"
                                            ],
                                            "properties": {
                                                "name": {
                                                    "type": "string",
                                                    "minLength": 1,
                                                    "maxLength": 32
                                                }
                                            }
                                        }
                                    },
                                    "pdbs": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "required": [
                                                "name",
                                                "status",
                                                "tablespaces",
                                                "schemas",
                                                "services"
                                            ],
                                            "properties": {
                                                "name": {
                                                    "type": "string"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "enum": [
                                                        "READ WRITE",
                                                        "READ ONLY",
                                                        "MOUNTED",
                                                        "READ ONLY WITH APPLY"
                                                    ]
                                                },
                                                "tablespaces": {
                                                    "anyOf": [
                                                        {
                                                            "type": "null"
                                                        },
                                                        {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object",
                                                                "required": [
                                                                    "name",
                                                                    "maxSize",
                                                                    "total",
                                                                    "used",
                                                                    "usedPerc",
                                                                    "status"
                                                                ],
                                                                "properties": {
                                                                    "name": {
                                                                        "type": "string"
                                                                    },
                                                                    "maxSize": {
                                                                        "type": "number",
                                                                        "minimum": 0
                                                                    },
                                                                    "total": {
                                                                        "type": "number",
                                                                        "minimum": 0
                                                                    },
                                                                    "used": {
                                                                        "type": "number",
                                                                        "minimum": 0
                                                                    },
                                                                    "usedPerc": {
                                                                        "type": "number",
                                                                        "minimum": 0
                                                                    },
                                                                    "status": {
                                                                        "type": "string",
                                                                        "enum": [
                                                                            "ONLINE",
                                                                            "READ ONLY",
                                                                            "OFFLINE"
                                                                        ]
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "schemas": {
                                                    "anyOf": [
                                                        {
                                                            "type": "null"
                                                        },
                                                        {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object",
                                                                "required": [
                                                                    "indexes",
                                                                    "lob",
                                                                    "tables",
                                                                    "total"
                                                                ],
                                                                "properties": {
                                                                    "indexes": {
                                                                        "type": "integer",
                                                                        "minimum": 0
                                                                    },
                                                                    "lob": {
                                                                        "type": "integer",
                                                                        "minimum": 0
                                                                    },
                                                                    "tables": {
                                                                        "type": "integer",
                                                                        "minimum": 0
                                                                    },
                                                                    "total": {
                                                                        "type": "integer",
                                                                        "minimum": 0
                                                                    },
                                                                    "user": {
                                                                        "type": "string"
                                                                    },
                                                                    "accountStatus": {
                                                                        "type": "string"
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "services": {
                                                    "anyOf": [
                                                        {
                                                            "type": "null"
                                                        },
                                                        {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object",
                                                                "required": [
                                                                    "name"
                                                                ],
                                                                "properties": {
                                                                    "name": {
                                                                        "type": "string"
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "partitionings": {
                                                    "anyOf": [
                                                        {
                                                            "type": "null"
                                                        },
                                                        {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object",
                                                                "properties": {
                                                                    "owner": {
                                                                        "type": "string"
                                                                    },
                                                                    "segmentName": {
                                                                        "type": "string"
                                                                    },
                                                                    "partitionName": {
                                                                        "type": "string"
                                                                    },
                                                                    "segmentType": {
                                                                        "type": "string"
                                                                    },
                                                                    "mb": {
                                                                        "type": "number"
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "segmentAdvisors": {
                                                    "anyOf": [
                                                        {
                                                            "type": "null"
                                                        },
                                                        {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object",
                                                                "properties": {
                                                                    "segmentOwner": {
                                                                        "type": "string"
                                                                    },
                                                                    "segmentName": {
                                                                        "type": "string"
                                                                    },
                                                                    "segmentType": {
                                                                        "type": "string"
                                                                    },
                                                                    "partitionName": {
                                                                        "type": "string"
                                                                    },
                                                                    "reclaimable": {
                                                                        "type": "number",
                                                                        "minimum": 0
                                                                    },
                                                                    "recommendation": {
                                                                        "type": "string"
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    ]
                                                }
                                            }
                                        }
                                    },
                                    "grantDba": {
                                        "anyOf": [
                                            {
                                                "type": "null"
                                            },
                                            {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "properties": {
                                                        "grantee": {
                                                            "type": "string",
                                                            "maxLength": 30
                                                        },
                                                        "adminOption": {
                                                            "type": "string",
                                                            "maxLength": 3
                                                        },
                                                        "defaultRole": {
                                                            "type": "string",
                                                            "maxLength": 3
                                                        }
                                                    }
                                                }
                                            }
                                        ]
                                    },
                                    "partitionings": {
                                        "anyOf": [
                                            {
                                                "type": "null"
                                            },
                                            {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "properties": {
                                                        "owner": {
                                                            "type": "string"
                                                        },
                                                        "segmentName": {
                                                            "type": "string"
                                                        },
                                                        "partitionName": {
                                                            "type": "string"
                                                        },
                                                        "segmentType": {
                                                            "type": "string"
                                                        },
                                                        "mb": {
                                                            "type": "number"
                                                        }
                                                    }
                                                }
                                            }
                                        ]
                                    }
                                }
                            }
                        },
                        "unlistedRunningDatabases": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "minLength": 1
                            },
                            "uniqueItems": true
                        }
                    }
                }
            ]
        },
        "exadata": {
            "anyOf": [
                {
                    "type": "null"
                },
                {
                    "type": "object",
                    "required": [
                        "components"
                    ],
                    "properties": {
                        "components": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "required": [
                                    "hostType"
                                ],
                                "properties": {
                                    "hostType": {
                                        "type": "string"
                                    },
                                    "hostname": {
                                        "type": "string",
                                        "minLength": 1,
                                        "maxLength": 253,
                                        "format": "idn-hostname"
                                    },
                                    "cpuEnabled": {
                                        "type": "integer"
                                    },
                                    "totalCPU": {
                                        "type": "integer"
                                    },
                                    "memory": {
                                        "type": "integer"
                                    },
                                    "imageVersion": {
                                        "type": "string"
                                    },
                                    "kernel": {
                                        "type": "string"
                                    },
                                    "fanUsed": {
                                        "type": "integer"
                                    },
                                    "fanTotal": {
                                        "type": "integer"
                                    },
                                    "psuUsed": {
                                        "type": "integer"
                                    },
                                    "psuTotal": {
                                        "type": "integer"
                                    },
                                    "msStatus": {
                                        "type": "string"
                                    },
                                    "rsStatus": {
                                        "type": "string"
                                    },
                                    "cellServiceStatus": {
                                        "type": "string"
                                    },
                                    "swVersion": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                }
            ]
        }
    }
}